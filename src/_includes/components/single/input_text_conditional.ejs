<%
    let randomId = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
%>

<div
    x-data="{
        conditions: <%= JSON.stringify(conditions) %>,
        show: function() {
            return this.conditions.some((condition) => {
                if (this[condition.field.data.name] === condition.value) {
                    return true
                }

                return false
            })
        }
    }"
>
    <div x-cloak x-show="show()">
        <%- include('label.ejs', {
            id: randomId,
            label: label,
        }) %>
        <div class="relative">
            <input
                id="<%- randomId %>"
                type="<%- type %>"
                name="<%- name %>"
                placeholder="<%- typeof placeholder === 'undefined' ? '' : placeholder %>"
                class="base-input border border-neutral-300 ps-11 shadow"
            >
            <div class="absolute inset-y-0 start-0 flex items-center pointer-events-none z-20 ps-4 text-gray-400">
                <%- icon %>
            </div>
        </div>
    </div>
</div>
