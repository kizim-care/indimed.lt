<%
    let randomId = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
%>

<div>
    <%- include('label.ejs', {
        id: randomId,
        label: label,
    }) %>
    <div class="relative">
        <input
            x-model="fields.<%- name %>.value"
            id="<%- randomId %>"
            type="<%- type %>"
            name="<%- name %>"
            placeholder="<%- typeof placeholder === 'undefined' ? '' : placeholder %>"
            :class="fields.<%- name %>.error ? 'border-red-400' : 'border-neutral-300'"
            class="base-input border ps-11 shadow"
            x-on:input="revalidateField('<%- name %>')"
        >
        <div class="absolute inset-y-0 start-0 flex items-center pointer-events-none z-20 ps-4 text-gray-400">
            <%- icon %>
        </div>
    </div>
</div>
